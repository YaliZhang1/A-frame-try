<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>A-Frame with Vite</title>
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
  </head>
  <body>
    <a-scene>
      <a-assets>
        <a-asset-item
          id="scene1-door"
          src="/models/entry-door-sidelights.glb"
        ></a-asset-item>
      </a-assets>
      <a-entity
        gltf-model="#scene1-door"
        position="0 0 -10"
        scale="2 2 5"
        rotation="0 0 0"
      >
        <a-image
          src="/images/panda-white.png"
          position="-0.21 -0.2 1.1"
          width="3.8"
          height="2"
          scale="1 1 1"
          rotation="-90 0 0"
        ></a-image>
        <a-text
          value="Welcome home, Yali"
          color="white"
          align="center"
          position="0 3 0.5"
          scale="1.5 1.5 1.5"
          opacity="0.8"
          animation__scale="property: scale; to: 2 2 2; dir: alternate; dur: 2000; loop: true"
          animation__opacity="property: opacity; from: 0.3; to: 1; dir: alternate; dur: 2000; loop: true"
        >
        </a-text>
      </a-entity>

      <a-assets>
        <a-asset-item
          id="stone-sculpture"
          src="/models/stone_sculpture_door_lion.glb"
        ></a-asset-item>
      </a-assets>
      <a-entity
        id="clickable-door1"
        gltf-model="#stone-sculpture"
        position="-1.5 1 -8"
        scale="0.05 0.05 0.05"
        rotation="0 0 0"
        class="clickable"
      >
      </a-entity>

      <a-assets>
        <a-asset-item
          id="ironwork"
          src="/models/ironwork_for_stairs.glb"
        ></a-asset-item>
      </a-assets>
      <a-entity
        gltf-model="#ironwork"
        position="1.5 0.3 -5"
        scale="0.5 0.25 0.5"
        rotation="0 -90 0"
      ></a-entity>
      <a-assets>
        <a-asset-item
          id="ironwork"
          src="/models/ironwork_for_stairs.glb"
        ></a-asset-item>
      </a-assets>
      <a-entity
        gltf-model="#ironwork"
        position="-2 0.3 -5"
        scale="0.5 0.25 0.5"
        rotation="0 -90 0"
      ></a-entity>

      <a-sky src="/images/blurred_bamboo_background.jpg"></a-sky>
      <a-image
        src="/images/two-red-panda.png"
        position="4 3 2"
        width="2"
        height="1"
        scale="1 1 1"
        rotation="0 -90 0"
        animation="property: object3D.position.z; to:-5; dir:alternate; dur:5000;loop:true"
      ></a-image>
      <a-image
        src="/images/three-adorable-panda-cubs.jpg"
        rotation="0 90 0"
        material="shader: flat;"
        position="4 1.5 -5"
        width="2"
        height="1"
        scale="1 1 1"
        rotation="0 -90 0"
        animation="property: object3D.position.z; to:2; dir:alternate; dur:5000;loop:true"
      ></a-image>

      <a-assets>
        <a-asset-item id="pinwheel" src="/models/pinwheel.glb"></a-asset-item>
      </a-assets>
      <a-entity
        gltf-model="#pinwheel"
        position="0.8 2.4 -10"
        scale="8 8 8"
        rotation="0 0 -45"
        animation__spin="property: rotation; from: 0 0 -15; to: 0 360 -15; loop: true; dur: 2000; easing: linear"
      ></a-entity>

      <a-image
        src="/images/chengdu-door.jpg"
        position="-4.5 2 2"
        width="2"
        height="4"
        scale="1 1 1"
        rotation="0 90 0"
        animation="property: object3D.position.z; to:-14; dir:alternate; dur:5000;loop:true"
      ></a-image>

      <a-image
        src="/images/big-panda.jpg"
        position="-5 2 -6"
        width="2"
        height="4"
        scale="1.5 1.5 1.5"
        rotation="0 90 0"
        animation="property: scale; to:0.5 0.5 0.5; dir:alternate; dur:5000;loop:true"
      ></a-image>

      <a-entity id="rig" position="0 0 0">
        <a-entity
          id="player-camera"
          camera
          position="0 1.6 1"
          look-controls
          wasd-controls
        >
          <a-cursor
            fuse="true"
            fuse-timeout="500"
            geometry="primitive: ring; radiusInner: 0.01; radiusOuter: 0.02"
            material="color: black; shader: flat"
          ></a-cursor>
        </a-entity>
      </a-entity>
    </a-scene>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const door = document.querySelector("#clickable-door1");
        door.addEventListener("click", () => {
          window.location.href = "/src/scene2.html";
        });
      });
    </script>
  </body>
</html>
